Разработать web приложение для работы с заказами питания по подписке. Приложение позволяет создавать новые заказы и просматривать уже созданные. Заказ питания по подписке представляет собой набор рационов питания, которые готовятся и доставляются в определенные даты в соответствие с заданным расписанием доставки и тарифом питания.

Стек: PHP (может использоваться любой фреймворк, но мы работаем на Laravel), база данных MySQL или MariaDB (таблицы в базе должны создаваться через миграции), фронт любой. Обертка приложения в докер контейнер будет плюсом. Если не знаешь докер, напиши, как запускать приложение, чтобы оно заработало.
При проверке задания внимание будет уделяться бэкенду, фронт может быть минималистичным – главное, чтобы в нем можно было создать и просмотреть данные.
## <a name="_модель_зак"></a>Модель заказа
В модели заказа есть следующие поля:

**id —** Первичный ключ, номерной идентификатор заказа в БД

**client\_name —** ФИО клиента, строка

**client\_phone —** Номер телефона клиента, строка в формате 79991112233 (без каких-либо символов, кроме чисел из номера телефона). Является уникальным (нельзя создать заказ, если уже существует с таким же номером телефона)

**tariff\_id —** ID [модели тарифа](#_модель_тар) питания в БД

**schedule\_type —** Тип расписания доставки рационов, enum-поле со значениями (“**EVERY\_DAY**”, “**EVERY\_OTHER\_DAY**”, “**EVERY\_OTHER\_DAY\_TWICE**”)

**comment —** Комментарий к заказу, текстовое поле

**created\_at —** Дата и время создания заказа

**first\_date —** Начальная дата заказа (дата первой доставки среди созданных рационов)

**last\_date —** Конечная дата заказа (дата последней доставки среди созданных рационов)
#### *Создание заказа*
Заказ создается через html-форму, на бекенде должна быть валидация данных. Фронтовая часть реализации не важна, может быть любой фреймворк, нативный JavaScript, JQuery, даже html-форма без скриптов.

При создании заказа заполняется имя клиента, номер телефона (на фронте может указываться в любом формате, в базе хранится как указано в описании модели), id тарифа (тариф выбирается на фронте из списка тарифов), тип расписания доставки рационов (также выбирается на фронте из списка заранее поддерживаемых типов расписаний), комментарий (записывается в базу в неизменном виде, htmlspecialchars не нужен). Дата и время создания заказа задаются в момент создания модели на бекенде вручную или автоматически (если все реализовано в Laravel через модели с timestamps). В first\_date и last\_date записывается самая ранняя и самая поздняя дата доставки среди созданных рационов питания.

Для создания рационов при создании заказа также передаются промежутки дат (дата от и дата до). Промежутки могут быть произвольными, но дата от всегда меньше или равна дате до. Промежутков может быть любое количество, но не меньше одного. Проще всего сделать редактируемый список с двумя нативными полями выбора даты в каждой строке.

В итоге создается модель заказа, и n-количество моделей рационов питания. [Создание моделей рационов питания](#_создается_)
#### *Просмотр заказов*
Нужен список заказов, из которого можно перейти в конкретный заказ, где отображается вся информация из модели, а также список созданных рационов питания по датам доставки (списком). Возможность изменения заказа не нужна, только создание и просмотр.

## <a name="_модель_тар"></a>Модель тарифа

В модели тарифа есть следующие поля:

**id —** Первичный ключ, номерной идентификатор тарифа в БД

**ration\_name —** Название рациона, строка

**cooking\_day\_before —** Нужно ли готовить рацион за день до доставки (true), или в день доставки (false). Логическое значение.
#### *Создание моделей тарифов*
Можно реализовать интерфейс создания, изменения и удаления тарифов, но подойдет и вариант с уже заполненным нередактируемым списком тарифов (но тарифы должны храниться в БД)

## <a name="_модель_рац"></a>Модель рациона питания
Рацион питания представляет собой одну доставку питания, которая имеет дату приготовления (подразумевается, что в эту дату на кухне готовят блюда из этого рациона питания), а также дату доставки (подразумевается, что в эту дату курьер забирает приготовленные блюда по этому рациону и везет их клиенту). 

Модель имеет следующие поля:

**id —** Первичный ключ, номерной идентификатор рациона в БД

**order\_id —** Связной ключ, **id** [модели заказа](#_модель_зак)

**cooking\_date —** Дата приготовления, mysql date, зависит от опции **cooking\_day\_before** в выбранном при создании заказа [тарифе](#_модель_тар).

**delivery\_date —** Дата доставки, mysql date, зависит от выбранного при создании заказа типа расписания доставки
#### <a name="_создается_"></a>*Создание рационов питания (создаются при создании заказа)*
Рационы питания создаются по выбранному [типу расписания доставки](#_типы_распи), на фронте выбираются промежутки от и до в виде списка, например 1) с 2025-01-01 по 2025-01-07; 2) с 2025-01-05 по 2025-01-10; 3) с 2025-01-11 по 2025-01-15 и так далее. Промежутки могут быть произвольными, даты в них также могут пересекаться. Если даты пересекаются, на одну дату может быть создано несколько рационов. Например если даны два промежутка: 1) **с 2025-01-01 по 2025-01-02** и 2) **с 2025-01-02 по 2025-01-03**, на дату 2025-01-02 выпадает два промежутка, а значит при расписании доставки **EVERY\_DAY (доставка 1 рациона каждый день)** на эту дату доставки будет создано 2 рациона с доставкой в эту дату. При создании рационов также учитывается опция **cooking\_day\_before** в выбранном тарифе, если она true, то **cooking\_date** устанавливается на 1 день раньше **delivery\_date**, иначе **cooking\_date** совпадает с **delivery\_date** у созданных рационов питания.
## <a name="_типы_распи"></a>Типы расписаний доставки
Предусматривается 3 типа расписаний доставки. Типы расписаний доставки должны выбираться при создании заказа. Их нельзя создавать, удалять и изменять. Их не обязательно хранить в БД.
#### *1) Ежедневная доставка (EVERY\_DAY)*
При этом расписании каждый день доставляется один рацион. Пример: заказ создается с одним промежутком дат (с 2025-01-01 по 2025-01-10). В этом случае будет создано 10 рационов с соответствующими датами доставки. Логика такая, что клиент питается каждый день.
#### *2) Доставка через день на 1 день питания (EVERY\_OTHER\_DAY)*
При этом расписании доставляется один рацион каждые два дня. Пример: заказ создается с одним промежутком дат (с 2025-01-01 по 2025-01-10). В этом случае будет создано 5 рационов с доставками на 1, 3, 5, 7 и 9 число месяца. Логика такая, что клиент питается через день с перерывом на один день.
#### *3) Доставка через день на 2 дня питания (EVERY\_OTHER\_DAY\_TWICE)*
При этом расписании в периоде дат доставляется по два рациона каждые 2 дня. Если в промежутке дат доставка выпадает на последнюю дату, доставляется только 1 рацион. Пример: заказ создается с одним промежутком дат (с 2025-01-01 по 2025-01-09). В этом случае будет создано 9 рационов, по 2 на даты доставки 1, 3, 5 и 7 числа и только 1 на 9 число. Логика такая, что клиент питается рационами каждый день, но доставка происходит сразу на 2 дня питания (в день доставки и следующий после него). Поэтому если доставка происходит в последний день промежутка дат, то доставляется только рацион на этот день.
